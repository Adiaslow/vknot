---
import LabelLayout from "../layouts/LabelLayout.astro";
import { releases as releaseConfigs } from "../data/releases";

// Get all releases for homepage display
const allReleases = releaseConfigs.map((config) => ({
  title: config.title || '',
  artistName: config.artistName,
  catalogNumber: config.catalogNumber,
  genres: config.genres,
  subgenres: config.subgenres,
  style: config.style,
  slug: config.slug,
  artistSlug: config.artistSlug,
  comingSoon: config.comingSoon || false,
  preRelease: config.preRelease || false,
}));
---

<LabelLayout
  title="Tender Circuits"
  description="Independent record label curating ambient and experimental electronic music."
>
  <section class="flex flex-col gap-10">
    <div class="card rounded-2xl p-8">
      <header class="flex flex-col gap-3">
        <span class="text-xs tracking-wide text-warmGray-500"
          >Tender Circuits</span
        >
        <h1 class="text-4xl font-medium text-cream-100">
          Independent label for experimental sound and ambient electronics.
        </h1>
        <p class="max-w-2xl text-cream-200 leading-relaxed">
          Curating releases that explore ambient textures, avant-garde
          compositions, and the intersection of electronic and acoustic sound.
        </p>
      </header>
    </div>

    <div class="flex flex-col gap-6">
      {
        allReleases.map((release) => (
          <article class="card flex flex-col gap-5 rounded-2xl p-8">
            <div class="flex items-center gap-3 text-sm">
              <span class="text-warmGray-500">{release.catalogNumber}</span>
              {release.comingSoon && (
                <span class="text-xs uppercase tracking-[0.3em] text-amber-300 bg-amber-900/30 px-3 py-1 rounded-full">
                  Coming Soon
                </span>
              )}
              {release.preRelease && (
                <span class="text-xs uppercase tracking-[0.3em] text-violet-300 bg-violet-900/30 px-3 py-1 rounded-full">
                  Pre-Release
                </span>
              )}
            </div>

            <div class="flex flex-col gap-2">
              <h3 class="text-3xl font-medium text-cream-100">{release.title}</h3>
              <p class="text-lg text-cream-200">by {release.artistName}</p>
            </div>

            <div class="flex flex-wrap gap-2">
              {release.genres.map((genre) => (
                <span class="text-xs px-3 py-1 rounded-full bg-slate-800 text-slate-300 border border-slate-700">
                  {genre}
                </span>
              ))}
              {release.subgenres.map((sub) => (
                <span class="text-xs px-3 py-1 rounded-full bg-fuchsia-900/30 text-fuchsia-300 border border-fuchsia-800/50">
                  {sub}
                </span>
              ))}
              {release.style && (
                <span class="text-xs px-3 py-1 rounded-full bg-slate-700/50 text-slate-400 border border-slate-600/50">
                  {release.style}
                </span>
              )}
            </div>

            <div class="flex items-center gap-4 pt-2">
              <a
                class="inline-flex items-center gap-2 text-sm font-medium text-terracotta-500 hover:text-terracotta-400 transition-colors"
                href={`/tender_circuits/releases/${release.slug}`}
              >
                {release.comingSoon || release.preRelease ? "View Release" : "Listen Now"}
              </a>
            </div>
          </article>
        ))
      }
    </div>
  </section>
</LabelLayout>
